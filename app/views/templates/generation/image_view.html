{% extends "base/base.html" %}

{% block title %}View Image{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <div class="card">
                {% if image.url.endswith('.mp4') %}
                <video class="card-img-top" controls autoplay loop muted playsinline>
                    <source src="{{ image.url }}" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                {% else %}
                <img src="{{ image.url }}" class="card-img-top" alt="Generated Image">
                {% endif %}
            </div>

            <!-- Navigation buttons -->
            <div class="d-flex justify-content-between mt-3">
                {% if prev_image %}
                <a href="/generation/image/{{ prev_image.id }}" class="btn btn-primary">Previous</a>
                {% else %}
                <button class="btn btn-primary" disabled>Previous</button>
                {% endif %}

                <a href="/generation/{{ cursor.id }}" class="btn btn-secondary">Back to Gallery</a>

                {% if next_image %}
                <a href="/generation/image/{{ next_image.id }}" class="btn btn-primary">Next</a>
                {% else %}
                <button class="btn btn-primary" disabled>Next</button>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
